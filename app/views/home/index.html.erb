<div class="w-full">
  <!-- Header / Hero -->
  <div class="w-full mb-8">
    <div class="rounded-2xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-700 text-white p-6 md:p-10 shadow-lg">
      <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-6">
        <div class="flex-1">
          <h1 class="text-2xl md:text-4xl font-semibold tracking-tight">Discover Games</h1>
          <p class="mt-2 text-white/80 text-sm md:text-base">Browse upcoming, live, and recent matches across top leagues. Fully responsive and built with Tailwind.</p>
        </div>
        <form action="#" method="get" class="w-full md:w-96">
          <label for="q" class="sr-only">Search games</label>
          <div class="relative">
            <input id="q" name="q" placeholder="Search by team, league, or venue" class="w-full rounded-xl bg-white/90 text-slate-900 placeholder-slate-500 px-4 py-3 pr-10 outline-none shadow-sm focus:ring-4 focus:ring-slate-300/50" />
            <div class="absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 4.207 12.03l3.756 3.757a.75.75 0 1 0 1.06-1.061l-3.756-3.757A6.75 6.75 0 0 0 10.5 3.75Zm-5.25 6.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Z" clip-rule="evenodd"/></svg>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Games List -->
  <div class="space-y-4">
    <% if @games.present? %>
      <ul class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
        <% @games.each do |g| %>
          <%# Normalize hash or object access %>
          <% home = g.respond_to?(:home_team) ? g.home_team : g[:home_team] %>
          <% away = g.respond_to?(:away_team) ? g.away_team : g[:away_team] %>
          <% league = g.respond_to?(:league) ? g.league : g[:league] %>
          <% kickoff = g.respond_to?(:kickoff_at) ? g.kickoff_at : g[:kickoff_at] %>
          <% status = g.respond_to?(:status) ? g.status : g[:status] %>
          <% hs = g.respond_to?(:home_score) ? g.home_score : g[:home_score] %>
          <% as = g.respond_to?(:away_score) ? g.away_score : g[:away_score] %>
          <% venue = g.respond_to?(:venue) ? g.venue : g[:venue] %>

          <li class="group bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 shadow-sm hover:shadow-md transition-shadow duration-200">
            <div class="flex items-center justify-between mb-3">
              <span class="inline-flex items-center gap-2 text-xs px-2.5 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300">
                <span class="size-1.5 rounded-full <%= status == 'Live' ? 'bg-red-500 animate-ping' : 'bg-slate-400' %>"></span>
                <%= status %>
              </span>
              <span class="text-xs text-slate-500"><%= league %></span>
            </div>

            <div class="flex items-center justify-between gap-3">
              <div class="flex-1">
                <div class="flex items-center gap-2">
                  <div class="size-9 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-600 flex items-center justify-center text-slate-800 dark:text-slate-100 text-xs font-semibold">
                    <%= home.to_s.first(2).upcase %>
                  </div>
                  <div class="min-w-0">
                    <div class="text-sm font-medium text-slate-900 dark:text-slate-100 truncate"><%= home %></div>
                    <div class="text-xs text-slate-500 truncate"><%= venue %></div>
                  </div>
                </div>
              </div>

              <div class="text-center">
                <% if status == 'Scheduled' %>
                  <div class="text-xs text-slate-500">Kickoff</div>
                  <div class="text-base font-semibold text-slate-900 dark:text-slate-100"><%= l(kickoff, format: :short) rescue kickoff %></div>
                <% else %>
                  <div class="text-xs text-slate-500">Score</div>
                  <div class="text-lg md:text-xl font-bold text-slate-900 dark:text-slate-100 tabular-nums">
                    <%= hs.nil? ? '-' : hs %> : <%= as.nil? ? '-' : as %>
                  </div>
                <% end %>
              </div>

              <div class="flex-1">
                <div class="flex items-center gap-2 justify-end">
                  <div class="min-w-0 text-right">
                    <div class="text-sm font-medium text-slate-900 dark:text-slate-100 truncate"><%= away %></div>
                    <div class="text-xs text-slate-500 truncate"><%= venue %></div>
                  </div>
                  <div class="size-9 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-600 flex items-center justify-center text-slate-800 dark:text-slate-100 text-xs font-semibold">
                    <%= away.to_s.first(2).upcase %>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-3 flex items-center justify-between text-xs text-slate-500">
              <div class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M6.25 2.75A.75.75 0 0 1 7 2h10a.75.75 0 0 1 .75.75V6.5a3.75 3.75 0 0 1-3.75 3.75h-3a3.75 3.75 0 0 1-3.75-3.75V2.75ZM9.5 10.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75V11A3.75 3.75 0 0 1 10.75 14.75h-3A3.75 3.75 0 0 1 4 11v-.75a.75.75 0 0 1 .75-.75h4.75Z"/></svg>
                <span><%= status == 'Scheduled' ? 'Starts soon' : (status == 'Live' ? 'In progress' : 'Final') %></span>
              </div>
              <time class="font-medium text-slate-600 dark:text-slate-300"><%= l(kickoff, format: :long) rescue kickoff %></time>
            </div>
          </li>
        <% end %>
      </ul>
    <% else %>
      <div class="rounded-2xl border border-dashed border-slate-300 dark:border-slate-700 p-10 text-center bg-white dark:bg-slate-900">
        <div class="mx-auto size-14 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 mb-3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"><path d="M4.5 6.75A2.25 2.25 0 0 1 6.75 4.5h10.5A2.25 2.25 0 0 1 19.5 6.75V18a.75.75 0 0 1-1.2.6l-2.925-2.194a.75.75 0 0 0-.45-.15H6.75A2.25 2.25 0 0 1 4.5 14.006V6.75Z"/></svg>
        </div>
        <h2 class="text-lg font-semibold text-slate-900 dark:text-slate-100">No games to show</h2>
        <p class="mt-1 text-slate-500">Check back later for upcoming or live matches.</p>
      </div>
    <% end %>
  </div>
</div>
